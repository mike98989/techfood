import{S as _,a as j,R as v,r as n,f as N,u as S,j as e,h as C}from"./index-a4f9129e.js";const M=x=>{var p;const{setIsLoading:i,Spinner:h}=_(),b=j(a=>a.user.value),{allRequest:k}=v(),[c,f]=n.useState([]),[t,D]=n.useState(x.componentData),{MessageBox:g,setFormMessage:m}=N(),{fetchApi:w}=C(),{t:r,i18n:R}=S(),[s,u]=n.useState({week:"",slaughter_number:"",slaughter_house:"",product_id:"",slaughter_date:"",pieces_date:"",animal_id:"",aerobic:"",e_coli:"",staphylococcus:""});n.useEffect(()=>{(async(d,o)=>{i(!0),k({event:null,action_url:d,method:"GET",formId:"",formData:null,contentType:"application/json",authentication:b.token,setIsLoading:i,setReturnData:o})})("drill_sample_form_related_data",f),u({week:t.week,slaughter_number:t.slaughter_number,slaughter_house:t.slaughter_house,product_id:t.product_id,slaughter_date:t.slaughter_date,pieces_date:t.pieces_date,animal_id:t.animal_id,aerobic:t.aerobic,e_coli:t.e_coli,staphylococcus:t.staphylococcus})},[]);const l=a=>{const{name:d,value:o}=a.target;u(y=>({...y,[d]:o}))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"border-b border-stroke py-2 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:r("update")+" "+r("slaughtered_head_meat_midriff")+" "+r("values")})}),e.jsx(g,{}),e.jsxs("form",{onSubmit:a=>{a.preventDefault(),i(!0),w({url:"headmidriffs/"+t.id,method:"PUT",formData:s,contentType:"application/json",authentication:b.token}).then(d=>{const o=JSON.parse(d);i(!1),o.status=="1"&&(u({week:"",slaughter_number:"",slaughter_house:"",product_id:"",slaughter_date:"",pieces_date:"",animal_id:"",aerobic:"",e_coli:"",staphylococcus:""}),m({message:o.message,status:"success"}),setTimeout(()=>{window.location.reload()},1500))}).catch(d=>{i(!1),m({message:JSON.parse(d),status:"error"})})},action:"#",id:"editHeadMidriff",method:"POST",children:[e.jsx(h,{}),e.jsxs("div",{className:"mb-4.5 flex flex-row gap-1 xl:flex-row",children:[e.jsxs("div",{className:"w-1/2 xl:w-1/2",children:[e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("slaughter_number")}),e.jsx("input",{type:"text",name:"slaughter_number",defaultValue:s.slaughter_number,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("week")}),e.jsx("input",{type:"number",name:"week",min:"0",defaultValue:s.week,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("slaughter_date")}),e.jsx("input",{type:"date",name:"slaughter_date",defaultValue:s.slaughter_date,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("pieces_date")}),e.jsx("input",{type:"date",name:"pieces_date",defaultValue:s.pieces_date,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]}),e.jsxs("div",{className:"flex flex-row",children:[e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("product")}),e.jsxs("select",{className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",value:s.product_id,required:!0,name:"product_id",onChange:l,children:[e.jsxs("option",{value:"",children:["--",r("select"),"--"]}),(p=c.products)==null?void 0:p.original.data.map((a,d)=>e.jsx("option",{value:a.id,children:r(a.name_key)},d))]})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"mb-1 text-sm text-black dark:text-white",children:r("staphylococcus")}),e.jsx("input",{type:"number",name:"staphylococcus",value:s.staphylococcus,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})]})]}),e.jsxs("div",{className:"w-1/2 xl:w-1/2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("kind_of_animal")}),e.jsxs("select",{className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",value:s.animal_id,onChange:l,required:!0,name:"status",children:[e.jsxs("option",{value:"",children:["--",r("select"),"--"]}),c.animal&&c.animal.original.data.map((a,d)=>e.jsx("option",{value:a.id,children:r(a.name_key)},d))]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("aerobic")}),e.jsx("input",{type:"number",name:"aerobic",defaultValue:s.aerobic,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("slaughter_house")}),e.jsx("input",{type:"number",name:"slaughter_house",value:s.slaughter_house,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-1 text-sm text-black dark:text-white",children:r("e_coli")}),e.jsx("input",{type:"number",name:"e_coli",value:s.e_coli,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})]})]})]}),e.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-xl  bg-cyan-800 p-2 font-medium text-gray hover:bg-opacity-90",children:"Save Data"})]})]})})})};export{M as default};
