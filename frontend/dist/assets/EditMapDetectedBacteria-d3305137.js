import{S as y,R as f,a as N,f as _,r as l,u as D,b as S,j as e,h as M}from"./index-8f838fba.js";function R(o){var h;const{setIsLoading:i,Spinner:x}=y();f();const b=N(a=>a.user.value),{MessageBox:k,setFormMessage:p}=_(),{allRequest:v}=f(),{fetchApi:g}=M(),[m,w]=l.useState([]),[d,c]=l.useState([]);l.useState({}),l.useState(null);const{t:r}=D();return r("map_detected_bacteria"),l.useState(""),l.useState(),S(),l.useEffect(()=>{var u;(async(n,j)=>{i(!0),v({event:null,action_url:n,method:"GET",formId:"",formData:null,contentType:"application/json",authentication:b.token,setIsLoading:i,setReturnData:j})})("map_detected_bacteria_coordinates",w);let t=o.componentData;const s=JSON.parse((u=o==null?void 0:o.componentData)==null?void 0:u.detected_values);t.updated_detected_values=s,console.log("data",t),c(t)},[o.componentData]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-[100%] gap-4",children:e.jsx("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:e.jsxs("div",{className:"m-3",children:[e.jsx("h3",{className:"font-medium text-black dark:text-white",children:r("update")+" "+r("map_detected_bacteria")+" "+r("values")}),e.jsx(k,{}),e.jsxs("form",{onSubmit:a=>{a.preventDefault(),i(!0),g({url:"mapdetectedbacteria/"+d.id,method:"PUT",formData:d,contentType:"application/json",authentication:b.token}).then(t=>{const s=JSON.parse(t);i(!1),s.status=="1"&&(c({}),p({message:s.message,status:"success"}),setTimeout(()=>{window.location.reload()},1200))}).catch(t=>{i(!1),p({message:JSON.parse(t),status:"error"})})},action:"#",id:"editMapDetectedBacteria",method:"POST",className:"pb-5 items-center justify-center",children:[e.jsxs("div",{className:"w-full border-whiten border-b py-2 px-2",children:[e.jsx(x,{}),e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-row pt-2",children:e.jsx("svg",{className:"w-4 h-4 text-black","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 10h16m-8-3V4M7 7V4m10 3V4M5 20h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Zm3-7h.01v.01H8V13Zm4 0h.01v.01H12V13Zm4 0h.01v.01H16V13Zm-8 4h.01v.01H8V17Zm4 0h.01v.01H12V17Zm4 0h.01v.01H16V17Z"})})}),e.jsxs("div",{className:"flex flex-row md:flex-row md:flex-wrap pt-2",children:[e.jsxs("div",{className:"flex-1 md:w-1/5 md:mb-0 mr-1",children:[e.jsx("label",{className:"text-black dark:text-white text-xs flex flex-row",children:r("date")}),e.jsx("input",{type:"date",id:"small-input",name:"date[]",required:!0,value:d.date,onChange:a=>c(t=>({...t,date:a.target.value})),placeholder:"Date",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]}),e.jsxs("div",{className:"flex-1 md:w-1/5 md:mb-0 mr-1",children:[e.jsx("label",{className:"mb-1 block text-black dark:text-white text-sm",children:r("title")}),e.jsxs("select",{className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary text-sm",value:d.coordinate_id,onChange:a=>c(t=>{const s={...t};return s.coordinate_id=a.target.value,s}),required:!0,name:"title",children:[e.jsxs("option",{value:"",children:["--",r("select"),"--"]}),m==null?void 0:m.map((a,t)=>e.jsx("option",{value:a.id,children:r(a.title)},t))]})]})]})]}),e.jsx("div",{className:"flex flex-row",children:e.jsx("div",{className:"md:w-full flex-column",children:(h=d==null?void 0:d.updated_detected_values)==null?void 0:h.map((a,t)=>e.jsxs("div",{className:"w-full md:flex",children:[e.jsxs("div",{className:"md:w-1/2 md:mb-0 mr-1",children:[e.jsx("label",{className:"text-black dark:text-white text-xs flex flex-row",children:r("label")}),e.jsx("input",{type:"text",id:"small-input",name:"label[]",disabled:!0,value:a.label,placeholder:r("label"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]}),e.jsxs("div",{className:"md:w-1/2 md:mb-0 mr-1",children:[e.jsx("label",{className:"text-black dark:text-white text-xs flex flex-row",children:r("number_detected")}),e.jsx("input",{type:"number",id:"small-input",name:"number_detected[]",min:0,required:!0,value:a.number_detected,onChange:s=>c(u=>{const n={...u};return n.updated_detected_values[t].number_detected=s.target.value,n.detected_values=JSON.stringify(n.updated_detected_values),n}),placeholder:r("value"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})]},t))})})]}),e.jsx("div",{className:"flex flex-row justify-center",children:e.jsxs("button",{type:"submit",className:"text-white bg-gradient-to-br from-cyan-600 to-cyan-900 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mt-2",children:[e.jsx(x,{}),r("save")]})})]})]})})})})}export{R as default};
