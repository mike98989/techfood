import{S as Z,a as C,f as H,R as q,r as w,u as F,j as e,h as D}from"./index-d5aa70aa.js";function B(g){const{setIsLoading:o,Spinner:c}=Z(),j=C(l=>l.user.value),{MessageBox:v,setFormMessage:x}=H();q(),w.useState(2024);const[r,u]=w.useState(g.componentData),{t:a}=F();a("oee_follow_up_title");const{fetchApi:y}=D(),s=l=>{const{name:n,value:i}=l.target;u(N=>{const t={...N,[n]:i},p=parseFloat(t.number_of_planned_break*1)*parseFloat(t.default_planned_break_in_min*1),b=parseFloat(t.number_of_meal_break*1)*parseFloat(t.default_meal_break_in_min*1),d=parseFloat(t.total_working_hours_daily*1-p-b),m=d-t.down_time_in_min,h=t.total_quality_piece-t.rejected_piece,_=(parseFloat(m/d)*100).toFixed(2),f=(parseFloat(t.total_quality_piece/m/t.run_rate_in_ppm)*100).toFixed(2),k=(parseFloat(h/t.total_quality_piece)*100).toFixed(2),M=(parseFloat(_*f*k)/1e4).toFixed(2);return t.total_planned_break=p,t.total_meal_break=b,t.planned_production_time=d,t.operating_time=m,t.good_piece=h,t.availability=_,t.performance=f,t.quality=k,t.overall_oee=M,console.log(t),t})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-2 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white pl-3",children:a("update")+" "+a("oee_follow_up")+" "+a("values")})}),e.jsxs("div",{className:"",children:[e.jsx(v,{}),e.jsxs("div",{className:"p-4 mb-4 text-sm text-green-800 rounded-xs bg-cyan-50 dark:bg-black dark:text-whiten",role:"alert",children:[e.jsx("div",{className:"w-full pl-4",children:e.jsx("span",{className:"font-medium",children:a("oee_factor")})}),e.jsxs("div",{className:"lg:flex flex-row ",children:[e.jsx("div",{className:"lg:w-2/4 flex",children:e.jsx("div",{children:e.jsxs("ul",{className:"mt-1.5 list-none list-inside",children:[e.jsxs("li",{className:"flex flex-row",children:[e.jsx("svg",{className:"flex-shrink-0 inline w-4 h-4 me-3 mt-[2px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),e.jsx("span",{className:"sr-only",children:"Danger"}),a("total_work_time_in_min")," ="," ",r.total_working_hours_daily]}),e.jsxs("li",{className:"flex flex-row",children:[e.jsx("svg",{className:"flex-shrink-0 inline w-4 h-4 me-3 mt-[2px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),e.jsx("span",{className:"sr-only",children:"Danger"}),a("total_planned_break")," = ",r.total_planned_break]}),e.jsxs("li",{className:"flex flex-row",children:[e.jsx("svg",{className:"flex-shrink-0 inline w-4 h-4 me-3 mt-[2px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),e.jsx("span",{className:"sr-only",children:"Danger"}),a("total_meal_break")," = ",r.total_meal_break]}),e.jsxs("li",{className:"flex flex-row",children:[e.jsx("svg",{className:"flex-shrink-0 inline w-4 h-4 me-3 mt-[2px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),e.jsx("span",{className:"sr-only",children:"Danger"}),a("planned_production_time")," ="," ",r.planned_production_time]}),e.jsxs("li",{className:"flex flex-row",children:[e.jsx("svg",{className:"flex-shrink-0 inline w-4 h-4 me-3 mt-[2px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),e.jsx("span",{className:"sr-only",children:"Danger"}),a("operating_time")," = ",r.operating_time]})]})})}),e.jsx("div",{className:"lg:w-2/4 flex",children:e.jsxs("ul",{className:"mt-1.5 list-none list-inside",children:[e.jsxs("li",{className:"flex flex-row",children:[e.jsx("svg",{className:"flex-shrink-0 inline w-4 h-4 me-3 mt-[2px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),e.jsx("span",{className:"sr-only",children:"Danger"}),a("good_piece")," = ",r.good_piece]}),e.jsxs("li",{className:"flex flex-row",children:[e.jsx("svg",{className:"flex-shrink-0 inline w-4 h-4 me-3 mt-[2px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),e.jsx("span",{className:"sr-only",children:"Danger"}),a("availablity")," = ",r.availability,"%"]}),e.jsxs("li",{className:"flex flex-row",children:[e.jsx("svg",{className:"flex-shrink-0 inline w-4 h-4 me-3 mt-[2px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),e.jsx("span",{className:"sr-only",children:"Danger"}),a("performance")," = ",r.performance,"%"]}),e.jsxs("li",{className:"flex flex-row",children:[e.jsx("svg",{className:"flex-shrink-0 inline w-4 h-4 me-3 mt-[2px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),e.jsx("span",{className:"sr-only",children:"Danger"}),a("quality")," = ",r.quality,"%"]}),e.jsxs("li",{className:"flex flex-row",children:[e.jsx("svg",{className:"flex-shrink-0 inline w-4 h-4 me-3 mt-[2px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),e.jsx("span",{className:"sr-only",children:"Danger"}),a("overall_oee")," = ",r.overall_oee,"%"]})]})})]})]}),e.jsx("form",{onSubmit:l=>{l.preventDefault(),o(!0),y({url:"oeefollowups/"+r.id,method:"PUT",formData:r,contentType:"application/json",authentication:j.token}).then(n=>{const i=JSON.parse(n);o(!1),i.status=="1"&&(u({}),x({message:i.message,status:"success"}),setTimeout(()=>{window.location.reload()},1500))}).catch(n=>{o(!1),x({message:JSON.parse(n),status:"error"})})},action:"#",id:"editOEEFollowUp",method:"POST",children:e.jsxs("div",{className:"px-6.5",children:[e.jsx(c,{}),e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[e.jsxs("div",{className:"w-full xl:w-2/6",children:[e.jsx("label",{className:"mb-1 block text-black dark:text-white text-sm",children:a("total_work_time_in_min")}),e.jsx("input",{type:"number",name:"total_working_hours_daily",min:"0",placeholder:a("total_work_time_in_min"),onChange:l=>s(l),defaultValue:r.total_working_hours_daily,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary text-sm"})]}),e.jsxs("div",{className:"w-full xl:w-2/6",children:[e.jsx("label",{className:"mb-1 block text-black dark:text-white text-sm",children:a("number_of_planned_break")}),e.jsx("input",{type:"number",min:"0",name:"number_of_planned_break",required:!0,onChange:l=>s(l),defaultValue:r.number_of_planned_break,placeholder:a("number_of_planned_break"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary text-sm"})]}),e.jsxs("div",{className:"w-full xl:w-2/6",children:[e.jsx("label",{className:"mb-1 block text-black dark:text-white text-sm",children:a("default_planned_break_in_min")}),e.jsx("input",{type:"number",min:"0",name:"default_planned_break_in_min",required:!0,defaultValue:r.default_planned_break_in_min,placeholder:a("default_planned_break_in_min"),onChange:l=>s(l),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary text-sm"})]})]}),e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row text-sm",children:[e.jsxs("div",{className:"w-full xl:w-2/6",children:[e.jsx("label",{className:"mb-1 block text-black dark:text-white text-sm",children:a("no_of_meal_break")}),e.jsx("input",{type:"number",min:"0",name:"number_of_meal_break",required:!0,defaultValue:r.number_of_meal_break,placeholder:a("no_of_meal_break"),onChange:l=>s(l),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary text-sm"})]}),e.jsxs("div",{className:"w-full xl:w-2/6",children:[e.jsx("label",{className:"mb-1 block text-black dark:text-white text-sm",children:a("default_meal_break_in_min")}),e.jsx("input",{type:"number",min:"0",name:"default_meal_break_in_min",required:!0,defaultValue:r.default_meal_break_in_min,placeholder:a("default_meal_break_in_min"),onChange:l=>s(l),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary text-sm"})]}),e.jsxs("div",{className:"w-full xl:w-2/6",children:[e.jsx("label",{className:"mb-1 block text-black dark:text-white text-sm",children:a("total_planned_break")}),e.jsx("input",{type:"number",min:"0",name:"total_planned_break",required:!0,readOnly:!0,value:r.total_planned_break,placeholder:a("total_planned_meal_break"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary text-sm"})]})]}),e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row text-sm",children:[e.jsxs("div",{className:"w-full xl:w-2/6",children:[e.jsx("label",{className:"mb-1 block text-black dark:text-white text-sm",children:a("total_meal_break")}),e.jsx("input",{type:"number",min:"0",name:"total_meal_break",required:!0,readOnly:!0,value:r.total_meal_break,placeholder:a("meal_break_time"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary text-sm"})]}),e.jsxs("div",{className:"w-full xl:w-2/6",children:[e.jsx("label",{className:"mb-1 block text-black dark:text-white text-sm",children:a("down_time")}),e.jsx("input",{type:"number",min:"0",name:"down_time_in_min",defaultValue:r.down_time_in_min,onChange:l=>s(l),placeholder:a("down_time_in_min"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary text-sm"})]}),e.jsxs("div",{className:"w-full xl:w-2/6",children:[e.jsx("label",{className:"mb-1 block text-black dark:text-white text-sm",children:a("run_rate_in_ppm")}),e.jsx("input",{type:"number",min:"0",name:"run_rate_in_ppm",onChange:l=>s(l),defaultValue:r.run_rate_in_ppm,placeholder:a("run_rate_in_ppm"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary text-sm"})]})]}),e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row text-sm",children:[e.jsxs("div",{className:"w-full xl:w-2/6",children:[e.jsx("label",{className:"mb-1 block text-black dark:text-white",children:a("total_quality")}),e.jsx("input",{type:"number",min:"0",name:"total_quality_piece",onChange:l=>s(l),defaultValue:r.total_quality_piece,placeholder:a("total_quality_piece"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary text-sm"})]}),e.jsxs("div",{className:"w-full xl:w-2/6",children:[e.jsx("label",{className:"mb-1 block text-black dark:text-white",children:a("rejected_piece")}),e.jsx("input",{type:"number",min:"0",name:"rejected_piece",placeholder:a("rejected_piece"),onChange:l=>s(l),defaultValue:r.rejected_piece,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary text-sm"})]}),e.jsxs("div",{className:"w-full xl:w-2/6",children:[e.jsx("label",{className:"mb-1 block text-black dark:text-white",children:a("planned_production_time")}),e.jsx("input",{type:"number",min:"0",readOnly:!0,value:r.planned_production_time,name:"planned_production_time",placeholder:a("planned_production_time"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary text-sm"})]})]}),e.jsx("div",{className:"flex flex-row justify-center",children:e.jsxs("button",{type:"submit",className:"text-white bg-gradient-to-br from-cyan-600 to-cyan-900 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mt-2 mb-3",children:[e.jsx(c,{}),a("save")]})})]})})]})]})})}export{B as default};
