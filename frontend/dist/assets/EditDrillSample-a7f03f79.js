import{S as _,a as j,R as v,r as n,f as N,u as S,j as e,h as D}from"./index-a4f9129e.js";const V=x=>{var p;const{setIsLoading:i,Spinner:h}=_(),b=j(a=>a.user.value),{allRequest:k}=v(),[c,f]=n.useState([]),[s,C]=n.useState(x.componentData),{MessageBox:g,setFormMessage:m}=N(),{fetchApi:w}=D(),{t:r,i18n:R}=S(),[d,u]=n.useState({week:"",slaughter_number:"",slaughter_house:"",product_id:"",slaughter_date:"",pieces_date:"",animal_id:"",aerobic:"",enterobacta:""});n.useEffect(()=>{(async(t,o)=>{i(!0),k({event:null,action_url:t,method:"GET",formId:"",formData:null,contentType:"application/json",authentication:b.token,setIsLoading:i,setReturnData:o})})("drill_sample_form_related_data",f),u({week:s.week,slaughter_number:s.slaughter_number,slaughter_house:s.slaughter_house,product_id:s.product_id,slaughter_date:s.slaughter_date,pieces_date:s.pieces_date,animal_id:s.animal_id,aerobic:s.aerobic,enterobacta:s.enterobacta})},[]);const l=a=>{const{name:t,value:o}=a.target;u(y=>({...y,[t]:o}))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"border-b border-stroke py-2 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:r("update")+" "+r("drill_samples_in_slaughter")+" "+r("values")})}),e.jsx(g,{}),e.jsxs("form",{onSubmit:a=>{a.preventDefault(),i(!0),w({url:"drillsamples/"+s.id,method:"PUT",formData:d,contentType:"application/json",authentication:b.token}).then(t=>{const o=JSON.parse(t);i(!1),o.status=="1"&&(u({week:"",slaughter_number:"",slaughter_house:"",product_id:"",slaughter_date:"",pieces_date:"",animal_id:"",aerobic:"",enterobacta:""}),m({message:o.message,status:"success"}),setTimeout(()=>{window.location.reload()},1500))}).catch(t=>{i(!1),m({message:JSON.parse(t),status:"error"})})},action:"#",id:"editDrillSample",method:"POST",children:[e.jsx(h,{}),e.jsxs("div",{className:"mb-4.5 flex flex-row gap-1 xl:flex-row",children:[e.jsxs("div",{className:"w-1/2 xl:w-1/2",children:[e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("slaughter_number")}),e.jsx("input",{type:"text",name:"slaughter_number",defaultValue:d.slaughter_number,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("week")}),e.jsx("input",{type:"number",name:"week",min:"0",defaultValue:d.week,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("slaughter_date")}),e.jsx("input",{type:"date",name:"slaughter_date",defaultValue:d.slaughter_date,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("pieces_date")}),e.jsx("input",{type:"date",name:"pieces_date",defaultValue:d.pieces_date,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("product")}),e.jsxs("select",{className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",value:d.product_id,required:!0,name:"product_id",onChange:l,children:[e.jsxs("option",{value:"",children:["--",r("select"),"--"]}),(p=c.products)==null?void 0:p.original.data.map((a,t)=>e.jsx("option",{value:a.id,children:r(a.name_key)},t))]})]})]}),e.jsxs("div",{className:"w-1/2 xl:w-1/2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("kind_of_animal")}),e.jsxs("select",{className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",value:d.animal_id,onChange:l,required:!0,name:"status",children:[e.jsxs("option",{value:"",children:["--",r("select"),"--"]}),c.animal&&c.animal.original.data.map((a,t)=>e.jsx("option",{value:a.id,children:r(a.name_key)},t))]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("aerobic")}),e.jsx("input",{type:"number",name:"aerobic",defaultValue:d.aerobic,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-1 text-sm block text-black dark:text-white",children:r("slaughter_house")}),e.jsx("input",{type:"number",name:"slaughter_house",value:d.slaughter_house,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]}),e.jsx("label",{className:"mb-1 text-sm text-black dark:text-white",children:r("enterobacta")}),e.jsx("input",{type:"number",name:"enterobacta",value:d.enterobacta,onChange:l,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-1 px-2 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})]})]}),e.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-xl  bg-cyan-800 p-2 font-medium text-gray hover:bg-opacity-90",children:"Save Data"})]})]})})})};export{V as default};
